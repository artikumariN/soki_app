<div class="neighbours directive">
  <ion-content>
    <ion-refresher on-refresh="nbrs.refreshList()"></ion-refresher>
    <div class="list">

        <label class="item item-input">
            <i class="icon ion-search placeholder-icon"></i>
            <input type="text" placeholder="Type name or number to search" ng-model="nbrs.search">
        </label>
        <div ng-repeat="group in nbrs.groups | filter:nbrs.selected.society.id | filter:nbrs.selected.property.occuId | filter:nbrs.search track by $index">
            <ion-item class="item item-avatar" on-tap="nbrs.openModal(group)">
                <img src="images/app/default-photo.png">
                <h2>{{group.name}}</h2>
                <p>{{group.details.propName}}</p>
                <p>{{group.mobile}}</p>
            </ion-item>
        </div>
    </div>
    </ion-content>
</div>

<!-- Modal View -->
<script id="my-modal.html" type="text/ng-template">
    <ion-modal-view class="contacts">
        <div class="header" on-swipe-down="nbrs.closeModal()">
            <img class="user-avatar" ng-if="nbrs.details.avatar" ng-src="nbrs.details.avatar" alt="avatar"/>
            <div class="user-name">
                <h1>{{nbrs.user.name}}</h1>
                <!-- <h2>{{nbrs.details.propName}} # Property</h2> -->
            </div>
        </div>
        <ion-content>
            <div class="list">
              <a class="item item-icon-left" href="#">
                  <i class="icon material-icons">supervisor_account</i>
                  {{nbrs.userDetails.type || '-'}}
              </a>

              <a class="item item-icon-left" href="#">
                  <i class="icon material-icons">business</i>
                  {{nbrs.userDetails.propName || '-'}}
              </a>
                <a class="item item-icon-left" href="tel:{{nbrs.user.mobile}}">
                    <i class="icon material-icons">phone</i>
                    {{nbrs.user.mobile || '-'}}
                </a>

                <a class="item item-icon-left" href="mailto:{{nbrs.userDetails.email}}">
                    <i class="icon material-icons">email</i>
                    {{nbrs.userDetails.email || '-'}}
                </a>

                <a class="item item-icon-left" href="tel:{{nbrs.user.emergencyPhone}}">
                    <i class="icon material-icons">phone</i>
                    {{nbrs.user.emergencyPhone || '-'}}
                </a>
            </div>
        </ion-content>

        <!-- <div class="bar bar-footer">
            <button class="button button-full button-positive" on-tap="nbrs.addContact(nbrs.user,nbrs.userDetails)">
                Add to Contacts
            </button>
        </div> -->
    </ion-modal-view>
</script>
